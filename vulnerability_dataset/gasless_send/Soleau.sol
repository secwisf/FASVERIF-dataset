contract Soleau {

  uint price = 0.001 ether;
  struct Record {
    bool exists; 
    uint createdAt; /* Time */ 
    uint createdIn; /* Block number */
  }
  mapping (address => Record) _records;

  function record() returns (bool success, bool already, uint theBlock) {
    address addr = msg.sender;
    if (msg.value < price) {
      success = false;
      msg.sender.send(msg.value); /* We're nice, we refund */
      return;
    } /* Else we keep the money but there is currently no way to use
   it: it is locked in the contract for ever */
    if (_records[addr].exists) {
      success = true;
      already = true;
      theBlock = _records[addr].createdIn;
    } else {
      _records[addr].exists = true;
      _records[addr].createdAt = now;
      _records[addr].createdIn = block.number;
      success = true;
      already = false;
      theBlock = _records[addr].createdIn;
    }
  }

  function get(address addr) constant returns (bool success, uint theBlock, uint theTime, address holder) {
    address addr = msg.sender;
    if (_records[addr].exists) {
      success = true;
      theBlock = _records[addr].createdIn;
      theTime = _records[addr].createdAt;
    } else {
      success = false;
    }
  }

  /* No fallback function */
  function () {
    throw;
  }
  
}